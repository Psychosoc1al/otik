## Структура заголовка

1. **Сигнатура**: 8 байт
    - `PIN34MPR`

2. **Версия формата**: 1 байт
    - `1` для версии 1, далее инкрементация

3. **Коды алгоритмов**: 1 байт
    - 4 бита: алгоритм сжатия вида `0001` - алгоритм X, `0010` - алгоритм Y, `0100` - алгоритм Z
    - 4 бита: алгоритм защиты от помех, аналогично

4. **Дополнительные поля**: 1 байт + (1 байт + 2 байта + переменная длина) * x
    - 1 байт: количество дополнительных полей
    - _Повторяющийся фрагмент_
        - 1 байт: код типа поля
        - 2 байта: длина поля
        - Переменная длина: данные поля

5. **Информация о файлах**: 2 байта + (2 байта + 4 байта + переменная длина) * y
    - 2 байта: общее количество файлов в архиве
    - _Повторяющийся фрагмент_
        - 2 байта: длина относительного пути
        - Переменная длина: относительный путь
        - 4 байта: исходная длина файла в байтах
        - 4 байта: длина закодированного файла в байтах
        - Переменная длина: данные файла

6. **Контрольная сумма архива**: 4 байта
    - Используется для проверки целостности архива

### Структура заголовка в виде таблицы, курсив для повторяющихся фрагментов

| Сигнатура | Версия | Алгоритмы | Количество полей | _Код типа поля_ | _Длина поля_ |   _Данные поля_    | Количество файлов | _Длина пути_ |       _Путь_       | _Длина файла_ |   _Данные файла_   | Контрольная сумма |
|:---------:|:------:|:---------:|:----------------:|:---------------:|:------------:|:------------------:|:-----------------:|:------------:|:------------------:|:-------------:|:------------------:|:-----------------:|
|  8 байт   | 1 байт |  1 байт   |      1 байт      |    _1 байт_     |  _2 байта_   | _Переменная длина_ |      2 байта      |  _2 байта_   | _Переменная длина_ |   _4 байта_   | _Переменная длина_ |      4 байта      |

### Описание дополнительных полей

1. **Массив частот**: для методов сжатия без учёта контекста
    - Код типа поля, в частности, `01`
    - Длина массива частот
    - Непосредственно массив частот

2. **Ключ шифрования**: для алгоритмов защиты от помех
    - Код типа поля, в частности, `02`
    - Длина ключа
    - Непосредственно ключ